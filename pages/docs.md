<data>
{
    "urlPath": "",
    "urlName": "docs",
    "navActive": "Docs"
}
</data>

# Documentation

*More coming soon*

### The Page Object

Here is an example object generated by the `index.html` file in the `pages/` directory of this project. This is the same structure for `partials` and `layouts`. **Note**, anything within `<data>` tags will over write these properties. You also have access to each of these properties when templating in MustacheJS.

    index = {
        id: 'index',

        rawName: 'index.html',
        name: 'index',
        extension: 'html',

        urlName: 'index',  
        urlPath: '',
        url: '~pages/index',

        rawFile: '',
        file: '',

        scripts: [],

        layout: 'page',
        type: 'page',

        date: {
            month: 'January',
            day: 1,
            year: 2013,
            string: 'Januar 1, 2013',
            value: 20130001
        }
    };

- **ID**: 
    The ID of the file seperates the file from other objects. The ID is used as the objects name.

- **rawName**:
    The raw name of the file as it was read in by the compiler.

- **name**:
    The file name with the extension trimmed off.

- **extension**:
    The extension of the file. Markdown files will be parsed automatically.

- **urlName**:
    The last segment of the url when the page is generated. If you have a site with a url of `kaw2k.github.com/` and `urlName = 'test'`, then the final url of that page will be `kaw2k.github.com/test.html`.

- **urlPath**:
    The segments of the url between the base and the urlName. If you have a site with a url of `kaw2k.github.com/` and `urlName = 'test'` as well as `urlPath = 'lessons/'`, then the final url of that page will be `kaw2k.github.com/lessons/test.html`. If you want the page to reside in the root of the project, use an empty string, `urlPath = ''`.

- **url*:
    This is the full url to the page object. If you have `trimHTML` set to true in your settings, then this will omit having the HTML extension. Use this property to link to pages.

- **rawFile**:
    The raw contents of the file, including the meta data and scripts.

- **file**:
    The final compiled version of the page.

- **scripts**:
    The contents of the `<js>` tags within the page, it's partials, and layout.

- **layout**:
    The layout this page will use. It referes to the ID of the layout file. If the file resides in a folder, it will be the *singular* version of the foldername. For example, the `pages/` folder gives a default layout of `page`. If no layout is found, it will use the index layout.

- **layout**:
    The type of the page object. This will be used to differentiat different types of pages for the use of filtering out pages. If the file resides in a folder, it will be the *singular* version of the foldername. For example, the `pages/` folder gives a default layout of `page`. If no layout is found, it will use the index layout.

- **date**:
    If you provide a date in the format of `<Full Month> <Day>, <Year>`, such as "January 1, 2013", then the compiler will turn it into a date object for you. You can sort dates by using their `value` attribute.

### The Site Object

You can access the `site` object within `<js>` tags in any page, partial, or layout. The scope of `this` within those tags is the final page element once it has been compiled.


    site = {
        pages: {},
        partials: {},
        layouts: {},
        settings: {},
        tags: [],
        inPath: '',
        outPath: ''
    };

- **pages**:
    This contains all content that is not a partial or a layout. Pages are stored by their ID's.

- **partials / layouts**:
    Everything within the `partials/` and `layouts/` folders. Stored by ID.

- **setings**:
    This is defined by `site.settings = {}` in the `/settings.js` file.

- **tags**:
    If you define any tags in your pages, this will be a list of all the tags.

- **inPath / outPath**:
    Shortcuts to the input and output directories of your project.

#### Adding to the site object

If for whatever reason you want to add more properties to the `site` object, you can do so in the `/settings.js` file.

For example, here is a function you can add to filter pages for you. This function will filter out pages of the type you specify, make sure they do not have a property called `hidden` (useful for pates that are not ready to be published yet), sort them by date, and then return an array.

*Add it to the end of your `settings.js` file*.

    site.orderedPages = function (type) {
        return _.chain(site.pages)
            .filter(function(page) {
                return page.type === type && !page.hidden;
            })
            .toArray()
            .sortBy(function(page) {
                if (!page.date) {
                    return 1;
                }
                return -page.date.value;
            })
            .value();
    }

You can now access this method from within `<js>` as follows.

    this.sections = site.orderedType('section');
